---
title: 데이터독(datadog)으로 Amazon EC2 서버 모니터링하기
date: '2024-06-19'
tags: ['datadog', 'aws']
draft: true
---

이번 포스팅에서는 다양한 모니터링 서비스를 제공하는 대표적인 모니터링 도구 `데이터독(datadog)`을 사용하여 EC2 서버를 모니터링하는 방법에 대해 알아보겠습니다.

## datadog-agent

데이터독은 모니터링하고자 하는 서버에 설치되는 `datadog-agent`를 통해 해당 서버의 다양한 정보를 수집합니다.
이 에이전트를 통해 수집된 정보들로 사용자가 원하는 다양한 대시보드를 구축할 수 있게 됩니다.

<Image src="/static/datadog/agent_설치/1.png" alt="Datadog Agent 설치 문서" />
[Datadog Agent 설치 문서](https://app.datadoghq.com/account/settings/agent/latest?_gl=1%2Au3xl2y%2A_gcl_au%2ANzkyOTUzNDQ4LjE3MTc3NTE5NjQ.%2A_ga%2AMTM0NTYyMDcyOS4xNzE3NzUxOTY0%2A_ga_KN80RDFSQK%2AMTcxODc5ODQzOC43LjAuMTcxODc5ODQzOC4wLjAuMTE2NjkwOTE5OA..%2A_fplc%2AJTJCeERITDdkTGw2b1FxZWlmVnY1OFVPd2hBOU5hN1BIY0UxJTJCdmolMkJxanFYY0dmdWJWV1A1UkxzbHlQJTJCd2tTUXc3WnU0dVZWeHUwRkRQQXBlaG02U0duNnBNdG42YUF1OWZWbXlIb08zdDNmbDRRM3dDcHltU2dkY1dRaWttNkElM0QlM0Q.&platform=aws)

```shell
$ DD_API_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX DD_SITE="datadoghq.com"  bash -c "$(curl -L https://s3.amazonaws.com/dd-agent/scripts/install_script_agent7.sh)"
```

위 명령어를 linux에서 실행하여 설치가 완료되면 아래 결과를 확인할 수 있습니다.

<Image src="/static/datadog/agent_설치/2.png" alt="agent 설치 후 화면" />

출력된 결과에서 언급된 것처럼, docker 관련 메트릭도 수집되길 원한다면 `docker` 그룹에 dd-agent를 추가하면 됩니다.

```shell
$ sudo usermod -a -G docker dd-agent
```

